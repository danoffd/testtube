<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>testtube - Stories</title>
    <script src="javascript/jquery-1.9.1.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/testtube.css"/>
    <script type="text/JavaScript" src="javascript/userstories.js"></script> 
    <script type="text/javascript">
        $("document").ready(function () {

            initTree();
            $("#edit-story-actor-input, #edit-story .edit-story-wantto, #edit-story .edit-story-soican").keyup(function (e) {
                updateStorySummary();
            });



            $("#edit-story-actor-input").keyup(function (e) {
                refineActorSelector(e, this, "#edit-story");
            });

            $("#edit-story-actor-input").focusout(function (e) {
                // this hack puts a delay on the focus out because it was beating the
                // click event
                window.setTimeout(function () { $("#edit-story-actor-selector").css("display", "none") }, 300);
                //$("#edit-story-actor-selector").css("display", "none");
            });

            $("#edit-story-actor-input").focusin(function (e) {
                refineActorSelector(e, this, "#edit-story");
            });

            $('#edit-story textarea').keypress(function (e) {
                if (e.keyCode == 13) return false;
            });

            $('#edit-story-actor-selector .result').mouseover(function (e) {
                $(this).addClass("selected");
            });

            $('#edit-story-actor-selector .result').mouseleave(function (e) {
                $(this).removeClass("selected");
            });

            $('#edit-story-actor-selector .result').click(function (e) {
                selectActorWithClick(e, $(this), "#edit-story");
            });

            $("#newStoryLink").click(function (e) {
                //Cancel the link behavior
                e.preventDefault();
                showStoryEditor(e, $(this));
            });

            //if mask is clicked
            $('#mask').click(function () {
                $(this).hide();
                $('#popupStory').hide();
            });

            $(window).resize(function () {

                var box = $('#popupStory');

                //Get the screen height and width
                var maskHeight = $(document).height();
                var maskWidth = $(window).width();

                //Set height and width to mask to fill up the whole screen
                $('#mask').css({ 'width': maskWidth, 'height': maskHeight });

                //Get the window height and width
                var winH = $(window).height();
                var winW = $(window).width();

                //Set the popup window to center
                box.css('top', winH / 2 - box.height() / 2);
                box.css('left', winW / 2 - box.width() / 2);

            });
        });

    </script>
</head>
<body>
    <div id="wrapper">
        <header class="page-header">
            <img class="page-logo" src="images/madScience.jpg"/>
            <span id="statusMessage" style="float:left;"></span>
            <menu class="app-menu">
                <a href="#">Home</a>
                <a href="#">Projects</a>
                <a href="colorchart.html">Help</a>
            </menu>
            <h1 class="page-header"><b>Project testtube:</b> using myself to create myself</h1>

            <menu class="project-menu">
                <ul>
                    <li><a href="#">Summary</a></li>
                    <li><a href="stories.html" class="active">Stories</a></li>
                    <li><a href="#">Actors</a></li>
                    <li><a href="#">Risks</a></li>
                    <li><a href="#">Resources</a></li>
                </ul>
            </menu>
        </header>
        <section class="main-body-section">
            <h1>Work Breakdown</h1>
            <p><a href="#popupStory?new" id="newStoryLink">Add a new story</a></p>
            <ul class="tree-outer tree-node">
                <li id="sibhold0" class="tree-sibling-dropzone tree-droppable tree-node tree-node-nav-root">
                    <div class="tree-node-nav tree-node-nav-sibling"></div>
                </li>
                <li id="Div0" draggable="false">
                    <div draggable="true" class="tree-draggable tree-droppable" tabindex="1" onkeypress="javascript:treeNodeKey(event, this);">
                        <a href="javascript:toggleTreeNode('Div0');">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf-collapse"></div>
                                <div class="tree-node-fill tree-node-nav-fill"></div>
                            </div>
                        </a>
                        <div class="tree-node-function"><img src="images/loe-toobig.png" /></div>
                        <div class="tree-node-function"><img src="images/status-backlog.png" /></div>
                        <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">enter the work required to complete a project</span> so I can use the information to analyze the effort required to complete a project</div>
                    </div>
                    <ul class="tree-inner tree-node" id="dummychild">
                        <li id="Li1" class="tree-sibling-dropzone tree-droppable tree-node tree-node-nav-root">
                            <div class="tree-node-nav tree-node-nav-sibling"></div>
                        </li>
                        <li draggable="true" id="Li2" class="tree-draggable tree-droppable" tabindex="2">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf"></div>
                                <div class="tree-node-fill tree-node-nav-fill"></div>
                            </div>
                            <div class="tree-node-function"><img src="images/loe-small.png" /></div>
                            <div class="tree-node-function"><img src="images/status-inprocess.png" /></div>
                            <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">add user stories</span> so I can see the detailed work items that comprise my project</div>
                        </li>
                        <li id="Li3" class="tree-sibling-dropzone tree-droppable tree-node">
                            <div class="tree-node-nav tree-node-nav-sibling"></div>
                        </li>
                        <li draggable="true" id="Li4" class="tree-draggable tree-droppable">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                                <div class="tree-node-fill tree-node-nav-fill"></div>
                            </div>
                            <div class="tree-node-function"><img src="images/loe-small-medium.png" /></div>
                            <div class="tree-node-function"></div>
                            <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">arrange user stories accoring to epic and priority</span> so I can visualize the organization of work</div>
                        </li>
                        <li id="Li5" class="tree-sibling-dropzone tree-droppable tree-node">
                            <div class="tree-node-nav tree-node-nav-sibling"></div>
                        </li>
                        <li draggable="true" id="Li6" class="tree-draggable tree-droppable">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                                <div class="tree-node-fill tree-node-nav-fill"></div>
                            </div>
                            <div class="tree-node-function"><img src="images/loe-medium.png" /></div>
                            <div class="tree-node-function"><img src="images/status-assigned.png" /></div>
                            <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">hide or show details</span> so I can view the work at various levels of detail</div>
                        </li>
                        <li id="Li7" class="tree-sibling-dropzone tree-droppable tree-node">
                            <div class="tree-node-nav tree-node-nav-sibling"></div>
                        </li>
                        <li draggable="true" id="Li8" class="tree-draggable tree-droppable">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf"></div>
                                <div class="tree-node-fill tree-node-nav-fill"></div>
                            </div>
                            <div class="tree-node-function"><img src="images/loe-medium-large.png" /></div>
                            <div class="tree-node-function"><img src="images/status-pending.png" /></div>
                            <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">quickly assign LOE based on a fibonacci-type assignment</span> so I can gain a rough idea of LOE before assigning detailed estimates</div>
                        </li>
                        <li id="Li9" class="tree-sibling-dropzone tree-droppable tree-node">
                            <div class="tree-node-nav tree-node-nav-sibling"></div>
                        </li>
                        <li draggable="true" id="Li10" class="tree-draggable tree-droppable">
                            <div class="tree-node-nav">
                                <div class="tree-node-command tree-node-nav-leaf-last"></div>
                                <div class="tree-node-fill tree-node-nav-nofill"></div>
                            </div>
                            <div class="tree-node-function"><img src="images/loe-large.png" /></div>
                            <div class="tree-node-function"><img src="images/status-writing.png" /></div>
                            <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">override the quick-assigned fibonacci values with detailed estimates</span> so I can provide more detailed estimates</div>
                        </li>
                        <li id="Li11" class="tree-sibling-dropzone tree-droppable tree-node">
                            <div class="tree-node-nav tree-node-nav-sibling-last"></div>
                        </li>
                    </ul>
                </li>
                <li id="sibhold1" class="tree-sibling-dropzone tree-droppable tree-node">
                    <div class="tree-node-nav tree-node-nav-sibling"></div>
                </li>
                <li draggable="true" id="Div1" class="tree-draggable tree-droppable">
                    <div class="tree-node-nav">
                        <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                        <div class="tree-node-fill tree-node-nav-fill"></div>
                    </div>
                    <div class="tree-node-function"><img src="images/loe-small-medium.png" /></div>
                    <div class="tree-node-function"><img src="images/status-complete.png" /></div>
                    <div class="tree-node-body"">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">estimate the project with progressively more precise values</span> so I can provide as comprehensive an estimate as is possible</div>
                </li>
                <li id="sibhold2" class="tree-sibling-dropzone tree-droppable tree-node">
                    <div class="tree-node-nav tree-node-nav-sibling"></div>
                </li>
                <li draggable="true" id="Div2" class="tree-draggable tree-droppable">
                    <div class="tree-node-nav">
                        <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                        <div class="tree-node-fill tree-node-nav-fill"></div>
                    </div>
                    <div class="tree-node-function"><img src="images/loe-small-medium.png" /></div>
                    <div class="tree-node-function"><img src="images/status-writing.png" /></div>
                    <div class="tree-node-body"">As a <span class="story-actor">Manager</span> I want to <span class="story-wantto">plan the completion of the project by using the information captured during the estimation process</span> so I can use the esimation knowledge I gained and tie the work back to original estimates</div>
                </li>
                <li id="sibhold3" class="tree-sibling-dropzone tree-droppable tree-node">
                    <div class="tree-node-nav tree-node-nav-sibling"></div>
                </li>
                <li draggable="true" id="Div3" class="tree-draggable tree-droppable">
                    <div class="tree-node-nav">
                        <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                        <div class="tree-node-fill tree-node-nav-fill"></div>
                    </div>
                    <div class="tree-node-function"><img src="images/loe-small-medium.png" /></div>
                    <div class="tree-node-function"><img src="images/status-writing.png" /></div>
                    <div class="tree-node-body"">As a <span class="story-actor">Manager</span> I want to <span class="story-wantto">track the progress of the project</span> so I can understand my status at every point of the project lifecycle</div>
                </li>
                <li id="sibhold4" class="tree-sibling-dropzone tree-droppable tree-node">
                    <div class="tree-node-nav tree-node-nav-sibling"></div>
                </li>
                <li draggable="true" id="Div4" class="tree-draggable tree-droppable">
                    <div class="tree-node-nav">
                        <div class="tree-node-command tree-node-nav-leaf-expand"></div>
                        <div class="tree-node-fill tree-node-nav-nofill"></div>
                    </div>
                    <div class="tree-node-function"><img src="images/loe-small-medium.png" /></div>
                    <div class="tree-node-function"><img src="images/status-writing.png" /></div>
                    <div class="tree-node-body">As an <span class="story-actor">Estimator</span> I want to <span class="story-wantto">retrospectively analyze my original estimates against time actually required to complete the work</span> so I can estimate the next project even more accurately</div>
                </li>
                <li id="sibhold5" class="tree-sibling-dropzone tree-droppable tree-node">
                    <div class="tree-node-nav tree-node-nav-sibling-last"></div>
                </li>
            </ul>
        </section>
        <aside id="popupWrapper">
            <!-- Start of Login Dialog -->
            <div id="popupStory" class="popupStory">
                <p id="editorSummary">change me on the fly</p>
                <div id="edit-story" class="edit-story-container">
                    <div class="refined-list-combo">
                        <p class="label-field-pair">
                            <label for="actorInput">As a/an </label>
                            <input id="edit-story-actor-input" class="refined-list-input" name="actorInput" value="" tabindex="1" autocomplete="off" />
                        </p>
                        <div id="edit-story-actor-selector" class="refined-list-results">
                                <div class="result">Estimator</div>
                                <div class="result">Manager of people</div>
                                <div class="result">Doer</div>
                                <div class="result">Manager of projects</div>
                        </div>
                    </div>
                    <p class="label-field-pair">
                        <label for="iWantTo">I want to</label>
                        <textarea name="iWantTo" tabindex="2" class="edit-story-wantto"></textarea>
                    </p>
                    <p class="label-field-pair">
                        <label for="soICan">so I can</label>
                        <textarea name="soICan" tabindex="3" class="edit-story-soican"></textarea>
                    </p>
                </div>

            </div>
            <!-- End of Login Dialog -->
        </aside>
    </div>
    <div id="mask"></div>
</body>
</html>
